<!DOCTYPE html>
<html lang="de" xmlns:th="http://www.thymeleaf.org" th:replace="~{fragments/layout :: layout (~{::body},'newarticle')}">
<body>
<h1>Beitrag bearbeiten</h1>


<form method="post" th:object="${article}">
    <input th:replace="~{fragments/inputField :: input ('Titel', 'title', 'text')}"/>
    <input th:replace="~{fragments/inputField :: input ('Text', 'text', 'textarea')}"/>
    <button type="submit" name="addarticle">Speichern</button>
</form>
<!--<div th:replace="~{category/createCategory :: input}"></div>-->
<br>
Kategorien des Artikels
<div class="row" th:each="categoryArticle:${article.getCategories()}">
    <!--Add category button just shown if User is Admin or his own comment-->
    <div th:if="${currentUser != null}">
        <div th:if="${currentUser.admin OR currentUser.id == comment.user.id}">
            <form th:action="@{deleteCategory/{categoryId}(categoryId=${categoryArticle.getId()})}"
                  method="post">
                <button class="btn btn-primary" type="submit" th:text="${categoryArticle.getName()+'x'}">Kategorie
                </button>
            </form>
        </div>
    </div>
</div>
<br>
Alle Kategorien
<div class="row" th:each="category1:${categories}">
    <!--Add category button just shown if User is Admin or his own comment-->
    <div th:if="${currentUser != null}">
        <div th:if="${currentUser.admin OR currentUser.id == comment.user.id}">
            <form th:action="@{addCategory/{categoryId}/add(categoryId=${category1.id})}"
                  method="post">
                <button class="btn btn-primary" type="submit" th:text="${category1.name}">Kategorie
                </button>
                <i class="far fa-times-circle"></i>
            </form>
        </div>
    </div>
</div>
</body>
</html>
